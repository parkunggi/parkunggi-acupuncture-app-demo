<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>経穴検索デモ</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <meta http-equiv="Cache-Control" content="no-store">
</head>
<body>
<header>
  <h1>経穴検索デモ</h1>
</header>

<main>
  <!-- メイン画面 -->
  <section id="main-screen">
    <div class="search-container">
      <h2>経穴検索</h2>
      <p>経穴名（漢字 または ひらがな）を入力してください（1文字以上で候補表示）</p>
      <input
        type="text"
        id="acupoint-search-input"
        placeholder="例: 百会 / ひゃくえ / 合谷 / あしさんり"
        autocomplete="off"
        aria-autocomplete="list"
        aria-haspopup="listbox"
        aria-expanded="false"
        aria-owns="acupoint-suggestion-list"
      >
      <div class="suggestion-wrapper">
        <ul id="acupoint-suggestion-list" class="hidden" role="listbox"></ul>
      </div>
      <button id="search-btn" type="button">検索</button>
      <p class="note-small">
        ※内部で経穴名の全ての空白を正規化。ひらがな=前方一致→0件時に部分一致 / 漢字=部分一致。
      </p>
      <p id="data-load-status" class="note-status">CSV 読み込み中...</p>
    </div>

    <div class="selection-container">
      <h2>症状・病床から選択（デモ）</h2>
      <p>選択すると関連経穴を表示します。</p>
      <select id="symptom-select">
        <option value="">-- 選択してください --</option>
        <option value="symptom_demo1">デモ症状: 頭痛</option>
        <option value="symptom_demo2">デモ症状: 首肩こり</option>
      </select>
    </div>
  </section>

  <!-- 経穴詳細画面 -->
  <section id="acupoint-result-screen" class="hidden">
    <button class="back-to-main-btn" type="button">← メイン画面に戻る</button>
    <div class="result-layout">
      <div class="model-container">
        <div class="placeholder">
          <p>ここに3Dモデル（単一経穴）</p>
        </div>
      </div>
      <div class="info-container">
        <h2 id="result-name">（経穴名）</h2>

        <h3>経絡</h3>
        <p id="result-meridian">（経絡未登録）</p>

        <h3>部位</h3>
        <p id="result-region">（部位未登録）</p>

        <h3>要穴</h3>
        <p id="result-important">（要穴未登録）</p>

        <h3>筋肉</h3>
        <p id="result-muscle">（筋肉未登録）</p>

        <h3>関連する症状（デモ）</h3>
        <ul id="related-symptoms">
          <li>（関連症状未登録）</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- 症状別経穴一覧画面 -->
  <section id="symptom-result-screen" class="hidden">
    <button class="back-to-main-btn" type="button">← メイン画面に戻る</button>
    <h2 id="symptom-result-title">デモ症状: 頭痛</h2>
    <div class="result-layout">
      <div class="model-container">
        <div class="placeholder">
          <p>ここに3Dモデル（複数経穴）</p>
        </div>
      </div>
      <div class="info-container">
        <h3>関連する経穴一覧</h3>
        <ul id="symptom-acupoints-list">
          <li>（関連経穴なし）</li>
        </ul>
        <p class="note-small">※クリックで詳細へ遷移</p>
      </div>
    </div>
  </section>
</main>

<script src="app.js"></script>
</body>
</html>
